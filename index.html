<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank POS</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f2f5;
            margin: 0;
            padding: 15px;
        }

        h2,
        h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }

        .section {
            background: #fff;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }



        /* Smaller labels */
        .staff-label,
        .item-label {
            font-size: 16px;
            /* smaller font */
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            /* less gap */
        }

        .staff-label i,
        .item-label i {
            margin-right: 6px;
            /* icon spacing */
        }

        #item,
        #qty,
        #price {
            padding: 14px;
            /* slightly larger input box */
            font-size: 16px;
            margin-bottom: 15px;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
            color: #555;
        }

        input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin-bottom: 12px;
            outline: none;
            transition: border 0.2s;
        }

        input:focus {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.3);
        }

        /* Base button style */
        .btn {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            transition: background 0.3s;
        }

        /* Add to Cart (blue) */
        .btn-add {
            background-color: #007bff;
        }

        .btn-add:hover {
            background-color: #0056b3;
        }

        /* Checkout (green/success) */
        .btn-success {
            background-color: #28a745;
        }

        .btn-success:hover {
            background-color: #218838;
        }

        /* Send (orange) */
        .btn-send {
            background-color: #fd7e14;
        }

        .btn-send:hover {
            background-color: #e8590c;
        }

        #cart {
            list-style: none;
            padding: 15px;
            background: #e0e5ec;
            border-radius: 10px;
            min-height: 60px;
            margin-bottom: 15px;
        }

        #cart li {
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
        }

        #payment img {
            max-width: 100%;
            display: block;
            margin: 15px auto;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        #uploadDiv {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        /* Flex layout with wrap to prevent overflow */
        .inputs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .inputs input,
        .inputs button {
            flex: 1 1 100%;
            margin-bottom: 10px;
        }

        @media(min-width:600px) {

            .inputs input,
            .inputs button {
                flex: 1;
                margin-bottom: 0;
            }
        }

        /* Individual cart item card */
.cart-card {
    background: #ffffff; /* bright white for contrast */
    border-radius: 10px;
    padding: 12px 15px;
    margin-bottom: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.08);
    position: relative;
    transition: transform 0.15s, box-shadow 0.15s;
}

/* Add subtle hover effect for modern feel */
.cart-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.12);
}


.cart-card .top-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    font-weight: bold;
}

.cart-card .bottom-row {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
    font-size: 14px;
    color: #555;
}

.cart-card .remove-btn {
    background: none;
    border: none;
    color: #dc3545;
    cursor: pointer;
    font-size: 16px;
}
    </style>

</head>

<body>

    <h2>Bank POS</h2>

    <!-- Add in <head> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- HTML -->
    <div class="section">
        <label class="staff-label"><i class="fa-solid fa-user"></i> ผู้ขาย :</label>
        <input type="text" id="staff" placeholder="ระบุชื่อผู้ขาย" required>
    </div>



    <!-- Item entry section -->
    <div class="section">
        <label class="item-label"><i class="fa-solid fa-box"></i> รายการสินค้า :</label>
        <input type="text" id="item" placeholder="ระบุรายการสินค้าที่ขาย" required>

        <label class="item-label"><i class="fa-solid fa-hashtag"></i> จำนวน :</label>
        <input type="number" id="qty" placeholder="จำนวน" min="1" required>

        <label class="item-label"><i class="fa-solid fa-money-bill"></i> ราคา (ต่อชิ้น) :</label>
        <input type="number" id="price" placeholder="ราคา" min="1" required>

        <button class="btn btn-add" onclick="addToCart()">เพิ่ม</button>
    </div>

    <!-- Cart section -->
    <div class="section">
        <h3>Cart</h3>
        <div id="cart">
            <div id="cart-staff" style="font-weight:bold; margin-bottom:10px;"></div>
            <!-- Item cards will go here -->
        </div>
        <button class="btn btn-success" onclick="checkout()">ชำระเงิน</button>
    </div>

    <!-- Payment section -->
    <div class="section" id="payment"></div>

    <!-- Upload payment slip -->
    <div class="section" id="uploadDiv" style="display:none;">
        <label>Upload Payment Slip:</label>
        <input type="file" id="paymentSlip">
        <button class="btn btn-send" onclick="uploadSlip()">Send</button>
    </div>

    <script src="script.js"></script>
</body>
<script>
    const qtyInput = document.getElementById('qty');
    qtyInput.pattern = "\\d*";  // force numeric keypad on mobile
    qtyInput.inputMode = "numeric";

    const priceInput = document.getElementById('price');
    priceInput.pattern = "\\d*";
    priceInput.inputMode = "numeric";







    let itemCount = 0; // count items added


    function updateCartNumbers() {
    const cards = document.querySelectorAll('#cart .cart-card');
    cards.forEach((card, index) => {
        const topRow = card.querySelector('.top-row span');
        const itemNameText = topRow.textContent.split('. ').slice(1).join('. '); // remove old number
        topRow.textContent = `${index + 1}. ${itemNameText}`;
    });
}

function addToCart() {
    const staffInput = document.getElementById('staff');
    const itemInput = document.getElementById('item');
    const qtyInput = document.getElementById('qty');
    const priceInput = document.getElementById('price');

    // Validation
    [staffInput, itemInput, qtyInput, priceInput].forEach(i => i.setCustomValidity(""));
    if (!staffInput.value.trim()) staffInput.setCustomValidity("กรุณากรอกชื่อผู้ขาย");
    if (!itemInput.value.trim()) itemInput.setCustomValidity("กรุณากรอกชื่อสินค้า");
    if (!qtyInput.value || Number(qtyInput.value) <= 0) qtyInput.setCustomValidity("จำนวนต้องมากกว่า 0");
    if (!priceInput.value || Number(priceInput.value) <= 0) priceInput.setCustomValidity("ราคาต้องมากกว่า 0");
    if (!staffInput.checkValidity()) { staffInput.reportValidity(); return; }
    if (!itemInput.checkValidity()) { itemInput.reportValidity(); return; }
    if (!qtyInput.checkValidity()) { qtyInput.reportValidity(); return; }
    if (!priceInput.checkValidity()) { priceInput.reportValidity(); return; }

    // Show staff at top
    const cartStaff = document.getElementById('cart-staff');
    cartStaff.textContent = `ผู้ขาย: ${staffInput.value}`;

    // Count current items in cart
    const currentCards = document.querySelectorAll('#cart .cart-card');
    const itemNumber = currentCards.length + 1;

    // Add item card
    const cart = document.getElementById('cart');
    const card = document.createElement('div');
    card.classList.add('cart-card');

    // Top row: item number + name + remove
    const topRow = document.createElement('div');
    topRow.classList.add('top-row');
    const itemName = document.createElement('span');
    itemName.textContent = `${itemNumber}. ${itemInput.value}`;
    const removeBtn = document.createElement('button');
removeBtn.innerHTML = '<i class="fa-solid fa-xmark"></i>';
removeBtn.style.width = '28px';
removeBtn.style.height = '28px';
removeBtn.style.borderRadius = '50%';
removeBtn.style.border = 'none';
removeBtn.style.background = '#ff4d4f'; // red color
removeBtn.style.color = '#fff';
removeBtn.style.cursor = 'pointer';
removeBtn.style.display = 'flex';
removeBtn.style.alignItems = 'center';
removeBtn.style.justifyContent = 'center';
removeBtn.style.boxShadow = '0 2px 6px rgba(0,0,0,0.15)';
removeBtn.style.transition = 'all 0.2s';
removeBtn.onmouseover = () => { removeBtn.style.transform = 'scale(1.1)'; removeBtn.style.boxShadow = '0 4px 12px rgba(0,0,0,0.25)'; };
removeBtn.onmouseout = () => { removeBtn.style.transform = 'scale(1)'; removeBtn.style.boxShadow = '0 2px 6px rgba(0,0,0,0.15)'; };

    removeBtn.onclick = () => {
        card.remove();
        updateCartNumbers();
    };
    topRow.appendChild(itemName);
    topRow.appendChild(removeBtn);

    // Bottom row: quantity and total price
const bottomRow = document.createElement('div');
bottomRow.classList.add('bottom-row');

// Inside addToCart()

const unitPrice = Number(priceInput.value); // store unit price for this card

// Row 2: quantity with - and + buttons
const qtyRow = document.createElement('div');
qtyRow.style.display = 'flex';
qtyRow.style.alignItems = 'center';
qtyRow.style.justifyContent = 'center';  // <-- center horizontally
qtyRow.style.gap = '8px';
qtyRow.style.alignSelf = 'center'; // <-- CENTERED horizontally

// Minus button
const minusBtn = document.createElement('button');
minusBtn.innerHTML = '<i class="fa-solid fa-minus"></i>';
minusBtn.style.width = '32px';
minusBtn.style.height = '32px';
minusBtn.style.borderRadius = '50%';
minusBtn.style.border = '1px solid #ccc';
minusBtn.style.background = '#fff';
minusBtn.style.cursor = 'pointer';
minusBtn.style.display = 'flex';
minusBtn.style.alignItems = 'center';
minusBtn.style.justifyContent = 'center';
minusBtn.style.transition = 'all 0.2s';
minusBtn.onmouseover = () => { minusBtn.style.background = '#f0f0f0'; minusBtn.style.transform = 'scale(1.1)'; };
minusBtn.onmouseout = () => { minusBtn.style.background = '#fff'; minusBtn.style.transform = 'scale(1)'; };

const qtyValue = document.createElement('span');
qtyValue.textContent = qtyInput.value;
qtyValue.style.color = 'black';
qtyValue.style.fontWeight = 'bold';

// Plus button
const plusBtn = document.createElement('button');
plusBtn.innerHTML = '<i class="fa-solid fa-plus"></i>';
plusBtn.style.width = '32px';
plusBtn.style.height = '32px';
plusBtn.style.borderRadius = '50%';
plusBtn.style.border = '1px solid #ccc';
plusBtn.style.background = '#fff';
plusBtn.style.cursor = 'pointer';
plusBtn.style.display = 'flex';
plusBtn.style.alignItems = 'center';
plusBtn.style.justifyContent = 'center';
plusBtn.style.transition = 'all 0.2s';
plusBtn.onmouseover = () => { plusBtn.style.background = '#f0f0f0'; plusBtn.style.transform = 'scale(1.1)'; };
plusBtn.onmouseout = () => { plusBtn.style.background = '#fff'; plusBtn.style.transform = 'scale(1)'; };

qtyRow.appendChild(minusBtn);
qtyRow.appendChild(qtyValue);
qtyRow.appendChild(plusBtn);


// Row 3: total price, aligned right
const priceRow = document.createElement('div');
priceRow.style.alignSelf = 'flex-end';

const priceValue = document.createElement('span');
priceValue.textContent = (unitPrice * Number(qtyValue.textContent));
priceValue.style.color = 'green';
priceValue.style.fontWeight = 'bold';

// Replace "บาท" with icon
const priceIcon = document.createElement('span');
priceIcon.innerHTML = '฿'; // Thai Baht symbol
priceIcon.style.color = '#333';
priceIcon.style.marginLeft = '3px'; // small spacing

priceRow.appendChild(priceValue);
priceRow.appendChild(priceIcon);


// Button logic
minusBtn.onclick = () => {
    let newQty = Number(qtyValue.textContent) - 1;
    if (newQty < 1) newQty = 1;
    qtyValue.textContent = newQty;
    priceValue.textContent = (unitPrice * newQty);
};

plusBtn.onclick = () => {
    let newQty = Number(qtyValue.textContent) + 1;
    qtyValue.textContent = newQty;
    priceValue.textContent = (unitPrice * newQty);
};

// Append to bottomRow
bottomRow.appendChild(qtyRow);
bottomRow.appendChild(priceRow);



    card.appendChild(topRow);
    card.appendChild(bottomRow);
    cart.appendChild(card);

    // Clear inputs
    itemInput.value = '';
    qtyInput.value = '';
    priceInput.value = '';
}

function updateCartNumbers() {
    const cards = document.querySelectorAll('#cart .cart-card');
    cards.forEach((card, index) => {
        const topRow = card.querySelector('.top-row span');
        const itemNameText = topRow.textContent.split('. ').slice(1).join('. '); // remove old number
        topRow.textContent = `${index + 1}. ${itemNameText}`;
    });
}


</script>

</html>
